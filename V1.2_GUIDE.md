# ðŸŽ‰ Version 1.2 Released!

## What's New

### ðŸ†• Data Extractor UI

A brand new drag-and-drop interface for adding match data to your database!

**Access at: http://localhost:8502**

## Quick Start

### Option 1: Use the Launcher
```powershell
.\launch.ps1
```
Choose from:
1. Data Extractor (port 8502)
2. Main Dashboard (port 8501)
3. Both Applications

### Option 2: Manual Start

**Start Data Extractor:**
```powershell
streamlit run extractor.py --server.port=8502
```

**Start Main Dashboard:**
```powershell
streamlit run app.py
# or
.\watch.ps1
```

## How to Use Data Extractor

### Step 1: Upload Match Data
1. Open http://localhost:8502
2. Set match date and time
3. Upload screenshots or CSV files for:
   - ðŸŸ¢ My Team (YoungBuffalo)
   - ðŸ”´ Enemy Team

### Step 2: Enter Data
- Click "Enter YB Team Data" or "Enter Enemy Team Data"
- Set number of players
- Or upload CSV files directly

### Step 3: Review & Edit
1. Navigate to "Review & Save" page
2. Edit player data in interactive tables
3. Add/remove rows as needed

### Step 4: Save to Database
- Click "Save to Database"
- Data automatically saved with unique match ID
- Format: `YYYYMMDD_HHMMSS` (e.g., `20260118_143530`)
- Supports multiple matches per day!

### Step 5: View in Dashboard
- Open http://localhost:8501
- See your new match data immediately

## Key Features

### âœ… Multiple Matches Per Day
Each match gets a unique ID combining date and time:
- Match 1: `20260118_100000` (10:00 AM)
- Match 2: `20260118_143530` (2:35 PM)
- Match 3: `20260118_200000` (8:00 PM)

### âœ… Flexible Input Methods
1. **Screenshots**: Upload game images (manual entry for now, OCR coming soon)
2. **CSV Files**: Direct upload of prepared data
3. **Manual Entry**: Type in statistics directly

### âœ… Data Validation
- Interactive tables for review
- Edit any field before saving
- Add/remove players dynamically
- Real-time preview

### âœ… Automatic Database Management
- Creates dated snapshot tables
- Updates master tables with match_id
- Refreshes VIEWs automatically
- Main dashboard shows latest match

## Database Structure

After saving a match with ID `20260118_143530`:

### Created Tables:
- `yb_stats_20260118_143530` - YB team snapshot
- `enemy_stats_20260118_143530` - Enemy team snapshot

### Updated Master Tables:
- `youngbuffalo_stats` - All YB matches
- `enemy_all_stats` - All enemy matches

### VIEWs (Always Latest):
- `yb_stats` - Latest YB match
- `enemy_stats` - Latest enemy match

## Example Workflow

### Scenario: Two matches on January 18, 2026

**Match 1 (Morning - 10:00 AM):**
```powershell
# Start extractor
streamlit run extractor.py --server.port=8502

# Set time to 10:00:00
# Upload/enter data for both teams
# Save â†’ Creates match_id: 20260118_100000
```

**Match 2 (Afternoon - 2:35 PM):**
```powershell
# Still in extractor
# Set time to 14:35:00
# Upload/enter data for both teams
# Save â†’ Creates match_id: 20260118_143530
```

**Result:**
- Both matches stored separately
- Dashboard shows Match 2 (latest)
- Both accessible via match_id in database

## Query Matches

### Get specific match:
```sql
SELECT * FROM youngbuffalo_stats 
WHERE match_id = '20260118_143530';
```

### List all matches:
```sql
SELECT DISTINCT match_id, match_date 
FROM youngbuffalo_stats 
ORDER BY match_id DESC;
```

### Count matches per day:
```sql
SELECT match_date, COUNT(DISTINCT match_id) as num_matches
FROM youngbuffalo_stats
GROUP BY match_date;
```

## Troubleshooting

### Can't access extractor?
Make sure you're using port 8502:
```
http://localhost:8502
```

### Database not updating?
1. Check that match was saved successfully (look for success message)
2. Refresh dashboard page
3. Check database with: `python scripts/check_db.py`

### Need to edit old match?
1. Query the match_id from database
2. Export to CSV
3. Edit and re-upload with same match_id

## Future Enhancements

Coming in next versions:
- ðŸ”® OCR for automatic data extraction from screenshots
- ðŸ”® Image preprocessing for better accuracy
- ðŸ”® Batch upload support
- ðŸ”® Match comparison UI
- ðŸ”® Player performance trends

## Links

- **Data Extractor**: http://localhost:8502
- **Main Dashboard**: http://localhost:8501
- **GitHub**: https://github.com/maxrena/WWM-Data-Analysis

---

**Enjoy version 1.2!** ðŸš€
